<html>
    <head>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

<!-- jQuery library -->

        <script src="jquery.min.1.11.1.js" type="text/javascript"></script>  
        <style>
            table, th, td {
                align: center;
  border: 1px solid black;
}
    
           
        </style> 
        <script>
        function showPrev(){
            var button = document.getElementById("target");
            button.hidden=false;
           
            var tableup = document.getElementById("upper");
            tableup.hidden =true;
            var tablelow = document.getElementById("lower");
            tablelow.hidden =true;


            var tableorig = document.getElementById("mytable");
            tableorig.hidden=false;
        }
        function showLower(){
            var tablelow = document.getElementById("lower");
            tablelow.hidden =false;
            var tableorig = document.getElementById("mytable");
            tableorig.hidden=true;
             var tableUp = document.getElementById("upper");
            tableUp.hidden=true;
            
            str ={
                names:[],
                address:[]
            }
            for(var i=1;i<=10;i++)
            {
                str.names.push(document.getElementById("name"+i).value);
                str.address.push(document.getElementById("addr"+i).value);
            }
                console.log(str);
                
                fetch("http://localhost:3000/convert/convertLower", { 
                    
                    // Adding method type 
                    method: "POST", 
                    
                    // Adding body or contents to send 
                    body: JSON.stringify({ 
                        json:str
                    }), 
                    
                    // Adding headers to the request 
                    headers: { 
                        "Content-type": "application/json; charset=UTF-8"
                    } 
                }) 
                .then(response => response.json()) 
  
                // Displaying results to console 
                .then((json)=>{
                    var names = json.names;
                    var address = json.address;
                    var html ="";
                    $('#lower').html('<table class="table table-bordered" />');

        
                    html+="<tr><th>Serial</th><th>Name</th><th>Address</th></tr>"
                    $('#lower table').append(html);
                    for (var i=0;i<10;i++){
                        
                        html="<tr>"
                        html+="<td>"+(parseInt(i)+parseInt(1))+"</td>";
                        html+="<td>"+names[i]+"</td>";
                        html+="<td>"+address[i]+"</td>";

                        html+="</tr>";
                        $('#lower table').append(html);
                        
                    }
                    
                }); 
                
        }

        
        function convert(){
            var tableup = document.getElementById("upper");
            tableup.hidden =false;
            var button = document.getElementById("target");
            var tablelow = document.getElementById("mytable");
            tablelow.hidden=true;
            button.hidden=true;
             var tablelow = document.getElementById("lower");
            tablelow.hidden=true;
            

            str ={
                names:[],
                address:[]
            }
            for(var i=1;i<=10;i++)
            {
                str.names.push(document.getElementById("name"+i).value);
                str.address.push(document.getElementById("addr"+i).value);
            }
                console.log(str);
                
                fetch("http://localhost:3000/convert/convertUpper", { 
                    
                    // Adding method type 
                    method: "POST", 
                    
                    // Adding body or contents to send 
                    body: JSON.stringify({ 
                        json:str
                    }), 
                    
                    // Adding headers to the request 
                    headers: { 
                        "Content-type": "application/json; charset=UTF-8"
                    } 
                }) 
                .then(response => response.json()) 
  
                // Displaying results to console 
                .then((json)=>{
                    var names = json.names;
                    var address = json.address;
                    var html ="";
                    $('#upper').html('<table class="table table-bordered" />');

        
                    html+="<tr><th>Serial</th><th>Name</th><th>Address</th></tr>"
                    $('#upper table').append(html);
                    for (var i=0;i<10;i++){
                        
                        html="<tr>"
                        html+="<td>"+(parseInt(i)+parseInt(1))+"</td>";
                        html+="<td>"+names[i]+"</td>";
                        html+="<td>"+address[i]+"</td>";

                        html+="</tr>";
                        $('#upper table').append(html);
                        
                    }
                    
                }); 
                
        }
        </script>
    </head>
    <body>
        <br><br>
        <center>
        <table id="mytable" class="table table-bordered">
        <tr>
            <th>Serial number</th>
            <th>Name</th>
            <th>Address</th>
        </tr>
        <tr>
            <td>1</td>
            <td> <input type="text" id="name1"></td>
           <td> <input type="text" id="addr1"></td>
           
        </tr>
        <tr>
            <td>2</td>
            <td> <input type="text" id="name2"></td>
           <td> <input type="text" id="addr2"></td>
           
        </tr>
        <tr>
            <td>3</td>
            <td> <input type="text" id="name3"></td>
           <td> <input type="text" id="addr3"></td>
           
        </tr>
        <tr>
            <td>4</td>
            <td> <input type="text" id="name4"></td>
           <td> <input type="text" id="addr4"></td>
           
        </tr>
        <tr>
            <td>5</td>
            <td> <input type="text" id="name5"></td>
           <td> <input type="text" id="addr5"></td>
           
        </tr>
        <tr>
            <td>6</td>
            <td> <input type="text" id="name6"></td>
           <td> <input type="text" id="addr6"></td>
           
        </tr>
        <tr>
            <td>7</td>
            <td> <input type="text" id="name7"></td>
           <td> <input type="text" id="addr7"></td>
           
        </tr>
        <tr>
            <td>8</td>
            <td> <input type="text" id="name8"></td>
           <td> <input type="text" id="addr8"></td>
           
        </tr>
        <tr>
            <td>9</td>
            <td> <input type="text" id="name9"></td>
           <td> <input type="text" id="addr9"></td>
           
        </tr>
        <tr>
            <td>10</td>
            <td> <input type="text" id="name10"></td>
           <td> <input type="text" id="addr10"></td>
           
        </tr>
    </table>
    <div id="upper">
    </div>    
        <br>
    <div id="lower">
    </div>    
     
        <button id="target"  class="btn btn-primary" OnClick="convert()"> Show Upper</button>
        <button id="showOrig" class="btn btn-primary" hiddden="true" OnClick="showPrev()" > show original</button>
        <button id="showLower"  class="btn btn-primary" OnClick="showLower()"> Show Lower</button>
    </center>
    </body>
</html>